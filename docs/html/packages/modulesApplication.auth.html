

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>modulesApplication.auth package &mdash; Moodule 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="modulesApplication.csv package" href="modulesApplication.csv.html" />
    <link rel="prev" title="modulesApplication package" href="modulesApplication.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Moodule
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Overview / Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modulesApplication.html">modulesApplication package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="modulesApplication.html#module-modulesApplication">Package Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="modulesApplication.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">modulesApplication.auth package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-modulesApplication.auth">Package Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-modulesApplication.auth.custom_ldap_backend">modulesApplication.auth.custom_ldap_backend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-modulesApplication.auth.is_staff">modulesApplication.auth.is_staff</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modulesApplication.csv.html">modulesApplication.csv package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modulesApplication.database.html">modulesApplication.database package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modulesApplication.programmeInfo.html">modulesApplication.programmeInfo package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modulesApplication.views.html">modulesApplication.views package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modulesApplication.html#module-modulesApplication.admin">modulesApplication.admin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="modulesApplication.html#module-modulesApplication.apps">modulesApplication.apps module</a></li>
<li class="toctree-l2"><a class="reference internal" href="modulesApplication.html#module-modulesApplication.models">modulesApplication.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="modulesApplication.html#module-modulesApplication.urls">modulesApplication.urls module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modulesProject.html">modulesProject package</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage.html">manage package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Moodule</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modulesApplication.html">modulesApplication package</a> &raquo;</li>
        
      <li>modulesApplication.auth package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/packages/modulesApplication.auth.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modulesapplication-auth-package">
<h1>modulesApplication.auth package<a class="headerlink" href="#modulesapplication-auth-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-modulesApplication.auth">
<span id="package-overview"></span><h2>Package Overview<a class="headerlink" href="#module-modulesApplication.auth" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-modulesApplication.auth.custom_ldap_backend">
<span id="modulesapplication-auth-custom-ldap-backend"></span><h2>modulesApplication.auth.custom_ldap_backend<a class="headerlink" href="#module-modulesApplication.auth.custom_ldap_backend" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">modulesApplication.auth.custom_ldap_backend.</span></code><code class="sig-name descname"><span class="pre">CustomLDAPBackend</span></code><a class="headerlink" href="#modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">django_auth_ldap.backend.LDAPBackend</span></code></p>
<p>A custom override of the LDAP authentication backend. The justification is to derive group memberships upon login
and then add the resulting Django user to the correct Django group (in our case, Students or Staff).</p>
<p>When a user logs in, the application query’s the university’s LDAP server and attempts to draw out the
relevant information - particularly what ‘type’ of person they are (extensionAttribute8) and other useful
information.</p>
<p>Only RHUL students and academic or administrative staff should be allowed to log in.</p>
<p>All other LDAPBackend features work as normal.</p>
<p>See <a class="reference external" href="https://django-auth-ldap.readthedocs.io/en/latest/">https://django-auth-ldap.readthedocs.io/en/latest/</a></p>
<dl class="py method">
<dt id="modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.authenticate_ldap_user">
<code class="sig-name descname"><span class="pre">authenticate_ldap_user</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ldap_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.authenticate_ldap_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an authenticated Django user or None.</p>
</dd></dl>

<dl class="py method">
<dt id="modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.derive_group">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">derive_group</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.derive_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the user attempting to authenticate, this searches the corresponding LDAP attributes to derive if the user
is staff or a student and returns a Django group.</p>
<p>It is derived from extensionAttribute8 in the University’s LDAP entries for people.</p>
<dl class="simple">
<dt>Values of extensionAttribute8 in LDAP we allow are:</dt><dd><ul class="simple">
<li><p>Staff (Academic Staff)</p></li>
<li><p>Staff (Administrative Staff)</p></li>
<li><p>Student (…..)</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user</strong> – the user attempting to authenticate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the correct Group object if the user authenticating is a student, academic staff, or administrative staff. None otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.query_student_profile_information">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">query_student_profile_information</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modulesApplication.auth.custom_ldap_backend.CustomLDAPBackend.query_student_profile_information" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Queries the LDAP server to obtain information about a student:</dt><dd><ul class="simple">
<li><p>Their student ID</p></li>
<li><p>Their entry year</p></li>
<li><p>Their degree programme</p></li>
</ul>
</dd>
</dl>
<p>When this information is collected, it calls <code class="docutils literal notranslate"><span class="pre">database.StudentProfile.populate_student_profile_from_ldap</span></code>
with this information to actually populate the relevant <cite>StudentProfile</cite> object.</p>
<p>Some LDAP entries may be incorrect - e.g., some students who have changed their degree programme may
erronously have two degree entries in their LDAP entry. If so, the StudentProfile will have <code class="docutils literal notranslate"><span class="pre">None</span></code> as the
programme code as we do not yet have a workaround for this.</p>
<p>The user is still able to manually select their degree/stage when choosing modules if this
is the case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user</strong> – the student user authenticating</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-modulesApplication.auth.is_staff">
<span id="modulesapplication-auth-is-staff"></span><h2>modulesApplication.auth.is_staff<a class="headerlink" href="#module-modulesApplication.auth.is_staff" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="modulesApplication.auth.is_staff.is_staff_or_superuser">
<code class="sig-prename descclassname"><span class="pre">modulesApplication.auth.is_staff.</span></code><code class="sig-name descname"><span class="pre">is_staff_or_superuser</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modulesApplication.auth.is_staff.is_staff_or_superuser" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple function to pass into &#64;user_passes_test decorators when carrying out access control tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the user.is_staff or user.is_superuser flags are set, false otherwise.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modulesApplication.csv.html" class="btn btn-neutral float-right" title="modulesApplication.csv package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modulesApplication.html" class="btn btn-neutral float-left" title="modulesApplication package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Team 34.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>